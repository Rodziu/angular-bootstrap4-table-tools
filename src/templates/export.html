<!--
  ~ AngularJS TableTools Plugin
  ~  Copyright (c) 2016-2021 Rodziu <mateusz.rohde@gmail.com>
  ~  License: MIT
  -->
<div>
	<button class="btn btn-outline-primary" ng-click="vm.showExport()">{{::vm.tableTools.lang.export}}</button>
	<div class="modal fade" bs-modal="vm.modal">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">{{::vm.tableTools.lang.export}}</h5>
					<button type="button" class="close" dismiss aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="form-group">
						<label>
							<strong>{{::vm.tableTools.lang.exportChooseColumns}}:</strong>
							<a href="javascript:" ng-click="vm.flipSelection()" class="badge badge-primary">
								{{::vm.tableTools.lang.flipSelection}}
							</a>
						</label>
						<div>
							<div class="form-check form-check-inline" ng-repeat="c in vm.columns">
								<input class="form-check-input" type="checkbox" id="tt-export-{{::$id}}"
									   ng-model="c.exp"/>
								<label class="form-check-label" for="tt-export-{{::$id}}" title="c.txt">
									{{::c.txt}}
								</label>
							</div>
						</div>
						<div>
							<div class="form-check mt-2">
								<input class="form-check-input" type="checkbox" id="tt-export-columns-{{::$id}}"
									   ng-model="vm.config.columnNames"/>
								<label class="form-check-label" for="tt-export-columns-{{::$id}}">
									{{::vm.tableTools.lang.exportColumnNames}}
								</label>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label><strong>{{::vm.tableTools.lang.exportSeparator}}</strong></label>
						<div>
							<div class="form-check form-check-inline" ng-repeat="s in vm.separators">
								<input class="form-check-input" type="radio" id="tt-export-separator-{{::$id}}"
									   ng-model="vm.config.separator" ng-value="s.separator" ng-trim="false"/>
								<label class="form-check-label" for="tt-export-separator-{{::$id}}">
									{{::s.lang}}
								</label>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-outline-primary" ng-repeat="(k, e) in vm.exportTypes"
							ng-click="vm.doExport(k, e)" ng-disabled="vm.exporting">
						{{::e.lang}}
						<span ng-if="vm.exporting == k">
							<i class="fa fa-spinner fa-spin"></i>
						</span>
					</button>
				</div>
			</div>
		</div>
	</div>
</div>
